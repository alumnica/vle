{% extends "logged-in.html" %}
{% load static %}
{% block content %}

<div class='container' id="preloader">
        <div class='loader'>
            <div class='loader--dot'></div>
            <div class='loader--dot'></div>
            <div class='loader--dot'></div>
            <div class='loader--dot'></div>
            <div class='loader--dot'></div>
            <div class='loader--dot'></div>
            <div class='loader--text'></div>
        </div>
    </div>
    
    <script>
        setTimeout(function(){
            document.getElementById("preloader").classList.add("is-load");
        }, 1000);
    </script>
<!-- end preloader -->

    <div class="eval-nav">
        <!-- SVG Menu Generated By CIRCULUS.SVG :: https://sarasoueidan.com/tools/circulus -->
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-2 -2 504 252" id="menu" style="transform-origin: 50% 50% 0px; transform: translate3d(0px, 0px, 0px); touch-action: none; -moz-user-select: none;">


            <g id="itemsContainer">
                <a data-menuanchor="6thPage" href="#6thPage" class="item" id="item-1" xlink:href="" xlink:title="" role="link" tabindex="0" xlink:target="_parent" transform="matrix(1,0,0,1,0,0)"
                    data-svg-origin="250 250">
                    <path fill="none" stroke="#111" stroke-width="1" class="sector e5" d="M250,250 l250,0 A250,250 0 0,0 452.25424859373686,103.05368692688171 z"></path>
                    
                </a>
                <a data-menuanchor="5thPage" href="#5thPage" class="item" id="item-2" xlink:href="" xlink:title="" role="link" tabindex="0" xlink:target="_parent" transform="matrix(0.80901,-0.58778,0.58778,0.80901,-99.20056166685515,194.69206447938143)"
                    data-svg-origin="250 250">
                    <path fill="none" stroke="#111" stroke-width="1" class="sector e4" d="M250,250 l250,0 A250,250 0 0,0 452.25424859373686,103.05368692688171 z"></path>
                    
                </a>
                <a data-menuanchor="4thPage"  href="#4thPage" class="item" id="item-3" xlink:href="" xlink:title="" role="link" tabindex="0" xlink:target="_parent" transform="matrix(0.30901,-0.95105,0.95105,0.30901,-65.01837766752521,410.5098804800515)"
                    data-svg-origin="250 250">
                    <path fill="none" stroke="#111" stroke-width="1" class="sector e3" d="M250,250 l250,0 A250,250 0 0,0 452.25424859373686,103.05368692688171 z"></path>
                    
                </a>
                <a  data-menuanchor="3rdPage" href="#3rdPage" class="item" id="item-4" xlink:href="" xlink:title="" role="link" tabindex="0" xlink:target="_parent" transform="matrix(-0.30901,-0.95105,0.95105,-0.30901,89.49011951994842,565.0183776675252)"
                    data-svg-origin="250 250">
                    <path fill="none" stroke="#111" stroke-width="1" class="sector e2" d="M250,250 l250,0 A250,250 0 0,0 452.25424859373686,103.05368692688171 z"></path>
                   
                </a>
                <a data-menuanchor="secondPage" href="#secondPage" class="item" id="item-5" xlink:href="" xlink:title="" role="link" tabindex="0" xlink:target="_parent" transform="matrix(-0.80901,-0.58778,0.58778,-0.80901,305.3079355206185,599.2005616668552)"
                    data-svg-origin="250 250">
                    <path fill="none" stroke="#111" stroke-width="1" class="sector e1" d="M250,250 l250,0 A250,250 0 0,0 452.25424859373686,103.05368692688171 z"></path>
                    
                </a>
            </g>
            <g id="trigger" class="trigger menu-trigger" role="button" onclick="window.location.href ='{% url 'evaluation_view' oda.evaluation.pk %}';">
                <circle cx="250" cy="250" r="200"></circle>
                <!-- menu button label or icon goes here -->
                <text class="eval-text" text-anchor="middle" x="250" y="200" fill="#fff">Evaluación</text>
            </g>
        </svg>
</div>
        
        <a href="{% url 'subject_view' oda.subject.pk  %}" class="return-btn">
            <i class="fas fa-undo-alt"></i>
        </a>
        <div class="oda-title">
            <a href="#firstPage">{{ oda.name }}</a>
            <div class="indication" style="display: none">
                Selecciona la animación para acceder a una parte de la lección.
            </div>
        </div >
        
    <div id="fullpage">
        <div class="section " id="section0">
            <div class="oda-desc">
                {{ oda.description }}
            </div>
            <div class="oda-tags">
                <ul>
                    {% for tag in oda.tags.all %}
                        <li>{{ tag.name }}</li>
                    {% endfor %}
                </ul>
            </div>
            <div class="scroll-words">
                <span class="blink">scroll down</span>
            </div>
            <svg class="arrows">
                <path class="a1" d="M0 0 L30 32 L60 0"></path>
                <path class="a2" d="M0 20 L30 52 L60 20"></path>
                <!-- <path class="a3" d="M0 40 L30 72 L60 40"></path> -->
            </svg>
        </div>

    {% for microoda, moments in microodas_moments %}
         <div class="section" id="section{{ forloop.counter }}" menu-ref="{{ forloop.counter }}" state="{{ microoda.1|safe }}">
            <div class="uoda-container">
                 <a href="{% url 'moment_view' moments.0.pk %}" class="micro-image">
                    {% if microoda.0.type.name == "application" %}
                    <video muted id="apli" data-autoplay loop class="fillWidth">
                        <source class="mp4" src="{% static "/webapp/media/uODAs/apli/apli_desktop.mp4" %}" type="video/mp4" />
                        <source class="webm" src="{% static "/webapp/media/uODAs/apli/apli_desktop.webm" %}" type="video/webm" />
                        <source class="png" src="{% static "/webapp/media/uODAs/apli/apli_desktop.png" %}" title="Your browser does not support the video tag. I suggest you upgrade your browser"/>
                    </video> 
                    {% elif microoda.0.type.name == "formalization" %}
                    <video muted id="forma" data-autoplay loop class="fillWidth">
                        <source class="mp4" src="{% static "/webapp/media/uODAs/forma/forma_desktop.mp4" %}" type="video/mp4" />
                        <source class="webm" src="{% static "/webapp/media/uODAs/forma/forma_desktop.webm" %}" type="video/webm" />
                        <source class="png" src="{% static "/webapp/media/uODAs/forma/forma_desktop.png" %}" title="Your browser does not support the video tag. I suggest you upgrade your browser"/>
                    </video> 
                    {% elif microoda.0.type.name == "activation" %}
                    <video muted id="activ" data-autoplay loop class="fillWidth">
                        <source class="mp4" src="{% static "/webapp/media/uODAs/activ/activ_desktop.mp4" %}" type="video/mp4" />
                        <source class="webm" src="{% static "/webapp/media/uODAs/activ/activ_desktop.webm" %}" type="video/webm" />
                        <source class="png" src="{% static "/webapp/media/uODAs/activ/activ_desktop.png" %}" title="Your browser does not support the video tag. I suggest you upgrade your browser"/>
                    </video>                        
                    {% elif microoda.0.type.name == "exemplification" %}
                    <video muted id="ejemp" data-autoplay loop class="fillWidth">
                        <source class="mp4" src="{% static "/webapp/media/uODAs/ejemp/ejemp_desktop.mp4" %}" type="video/mp4" />
                        <source class="webm" src="{% static "/webapp/media/uODAs/ejemp/ejemp_desktop.webm" %}" type="video/webm" />
                        <source class="png" src="{% static "/webapp/media/uODAs/ejemp/ejemp_desktop.png" %}" title="Your browser does not support the video tag. I suggest you upgrade your browser"/>
                    </video> 
                    {% elif microoda.0.type.name == "sensitization" %}
                    <video muted id="sens" data-autoplay loop class="fillWidth">
                        <source class="mp4" src="{% static "/webapp/media/uODAs/sens/sens_desktop.mp4" %}" type="video/mp4" />
                        <source class="webm" src="{% static "/webapp/media/uODAs/sens/sens_desktop.webm" %}" type="video/webm" />
                        <source class="png" src="{% static "/webapp/media/uODAs/sens/sens_desktop.png" %}" title="Your browser does not support the video tag. I suggest you upgrade your browser"/>
                    </video> 
                    {% endif %}
                </a>
                <div class="micro-momentos">
                    {% for momento in moments %}

                        {% if momento.type.group == "dynamic_presentation" %}
                             <div class="momento">
                                 <img src="{% static "/webapp/media/Iconos/presentacion_dinamica.png" %}" alt="">
                             </div>
                        {% elif momento.type.group == "dynamic_scene" %}
                            <div class="momento">
                                  <img src="{% static "/webapp/media/Iconos/Escenario_dinamico.png" %}" alt="">
                              </div>
                        {% elif momento.type.group == "interactive_game" %}
                             <div class="momento">
                                 <img src="{% static "/webapp/media/Iconos/juego_interactivo.png" %}" alt="">
                             </div>
                        {% elif momento.type.group == "interactive_text" %}
                             <div class="momento">
                                 <img src="{% static "/webapp/media/Iconos/texto_interactivo.png" %}" alt="">
                             </div>
                        {% endif %}

                    {% endfor %}
                </div>
            </div>

        </div>
    {% endfor %}

    </div>



{% endblock %}

{% block scripts %}
<script src="{% static "webapp/js/oda-view.js" %}"></script>
{% endblock %}